\hypertarget{classfranka__hw_1_1_franka_combinable_h_w}{}\section{franka\+\_\+hw\+:\+:Franka\+Combinable\+HW Class Reference}
\label{classfranka__hw_1_1_franka_combinable_h_w}\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}


{\ttfamily \#include $<$franka\+\_\+combinable\+\_\+hw.\+h$>$}



Inheritance diagram for franka\+\_\+hw\+:\+:Franka\+Combinable\+HW\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{classfranka__hw_1_1_franka_combinable_h_w__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for franka\+\_\+hw\+:\+:Franka\+Combinable\+HW\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classfranka__hw_1_1_franka_combinable_h_w__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classfranka__hw_1_1_franka_combinable_h_w_aac256f1d5ce4757f146c468cb841153a}{Franka\+Combinable\+HW} ()
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a1e89406fc542ad7fb45ff0c1402c61c3}{init\+R\+O\+S\+Interfaces} (ros\+::\+Node\+Handle \&robot\+\_\+hw\+\_\+nh) override
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a07855d935d7063930be9aa140d0895f8}{control} (const std\+::function$<$ bool(const ros\+::\+Time \&, const ros\+::\+Duration \&)$>$ \&ros\+\_\+callback=\mbox{[}$\,$\mbox{]}(const ros\+::\+Time \&, const ros\+::\+Duration \&) \{ return true;\}) const override
\item 
bool \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_aa2a84c1da5161ddb38e33f112c8850a7}{check\+For\+Conflict} (const std\+::list$<$ hardware\+\_\+interface\+::\+Controller\+Info $>$ \&info) const override
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a44e3093eb876aef71423c4f5142c7ed8}{read} (const ros\+::\+Time \&, const ros\+::\+Duration \&) override
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_ab96f9d6af06fbd7569d8a059d1bfbdd4}{write} (const ros\+::\+Time \&, const ros\+::\+Duration \&period) override
\item 
std\+::string \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a31d0a4ffa87fc3a480707cb8ea813fcc}{get\+Arm\+ID} () const noexcept
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a48c2df229bf691b9e760dd6b557fb5ef}{trigger\+Error} ()
\item 
bool \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a1698d87cf7f2312301f43366a1f13cc2}{has\+Error} () const noexcept
\item 
void \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a1699fa199d607af6f70000ebe6796da8}{reset\+Error} ()
\item 
bool \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_aa5b8428ab18cdfe26154fe3b10447562}{controller\+Needs\+Reset} () const noexcept
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A hardware class for a Panda robot based on the ros\+\_\+control framework. This class is ready to be combined with other hardware classes e.\+g. to control multiple robots from a single controller. Note\+: This class allows for torque (effort) control only due to the lack of synchronization between master controllers of different robots. For more information see the documentation at \href{https://frankaemika.github.io/docs/franka_ros.html}{\tt https\+://frankaemika.\+github.\+io/docs/franka\+\_\+ros.\+html} . 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_aac256f1d5ce4757f146c468cb841153a}\label{classfranka__hw_1_1_franka_combinable_h_w_aac256f1d5ce4757f146c468cb841153a}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!Franka\+Combinable\+HW@{Franka\+Combinable\+HW}}
\index{Franka\+Combinable\+HW@{Franka\+Combinable\+HW}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{Franka\+Combinable\+H\+W()}{FrankaCombinableHW()}}
{\footnotesize\ttfamily franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::\+Franka\+Combinable\+HW (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Creates an instance of \hyperlink{classfranka__hw_1_1_franka_combinable_h_w}{Franka\+Combinable\+HW}. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_aa2a84c1da5161ddb38e33f112c8850a7}\label{classfranka__hw_1_1_franka_combinable_h_w_aa2a84c1da5161ddb38e33f112c8850a7}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!check\+For\+Conflict@{check\+For\+Conflict}}
\index{check\+For\+Conflict@{check\+For\+Conflict}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{check\+For\+Conflict()}{checkForConflict()}}
{\footnotesize\ttfamily bool franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::check\+For\+Conflict (\begin{DoxyParamCaption}\item[{const std\+::list$<$ hardware\+\_\+interface\+::\+Controller\+Info $>$ \&}]{info }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Checks whether a requested controller can be run, based on the resources and interfaces it claims. Note\+: \hyperlink{classfranka__hw_1_1_franka_combinable_h_w}{Franka\+Combinable\+HW} allows torque control only.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em info} & Controllers to be running at the same time.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True in case of a conflict, false in case of valid controllers. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classfranka__hw_1_1_franka_h_w_a73e581982455acacca51d81e4676e9a6}{franka\+\_\+hw\+::\+Franka\+HW}.

\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a07855d935d7063930be9aa140d0895f8}\label{classfranka__hw_1_1_franka_combinable_h_w_a07855d935d7063930be9aa140d0895f8}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!control@{control}}
\index{control@{control}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{control()}{control()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::control (\begin{DoxyParamCaption}\item[{const std\+::function$<$ bool(const ros\+::\+Time \&, const ros\+::\+Duration \&)$>$ \&}]{ros\+\_\+callback = {\ttfamily \mbox{[}\mbox{]}(const~ros\+:\+:Time\&,~const~ros\+:\+:Duration\&)~\{~return~true;~\}} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Runs the currently active controller in a realtime loop. If no controller is active, the function immediately exits.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ros\+\_\+callback} & A callback function that is executed at each time step.\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em franka\+::\+Control\+Exception} & if an error related to torque control occurred. \\
\hline
{\em franka\+::\+Invalid\+Operation\+Exception} & if a conflicting operation is already running. \\
\hline
{\em franka\+::\+Network\+Exception} & if the connection is lost, e.\+g. after a timeout. \\
\hline
{\em franka\+::\+Realtime\+Exception} & if realtime priority cannot be set for the current thread. \\
\hline
\end{DoxyExceptions}


Reimplemented from \hyperlink{classfranka__hw_1_1_franka_h_w_abbafdee04c749eae1726dd6e76f52c0f}{franka\+\_\+hw\+::\+Franka\+HW}.

\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_aa5b8428ab18cdfe26154fe3b10447562}\label{classfranka__hw_1_1_franka_combinable_h_w_aa5b8428ab18cdfe26154fe3b10447562}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!controller\+Needs\+Reset@{controller\+Needs\+Reset}}
\index{controller\+Needs\+Reset@{controller\+Needs\+Reset}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{controller\+Needs\+Reset()}{controllerNeedsReset()}}
{\footnotesize\ttfamily bool franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::controller\+Needs\+Reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Returns whether the controller needs to be reset e.\+g. after error recovery.

\begin{DoxyReturn}{Returns}
A copy of the controller\+\_\+needs\+\_\+reset flag. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a31d0a4ffa87fc3a480707cb8ea813fcc}\label{classfranka__hw_1_1_franka_combinable_h_w_a31d0a4ffa87fc3a480707cb8ea813fcc}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!get\+Arm\+ID@{get\+Arm\+ID}}
\index{get\+Arm\+ID@{get\+Arm\+ID}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{get\+Arm\+I\+D()}{getArmID()}}
{\footnotesize\ttfamily std\+::string franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::get\+Arm\+ID (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Getter method for the arm\+\_\+id which is used to distinguish between multiple instances of \hyperlink{classfranka__hw_1_1_franka_combinable_h_w}{Franka\+Combinable\+HW}.

\begin{DoxyReturn}{Returns}
A copy of the arm\+\_\+id string identifying the class instance. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a1698d87cf7f2312301f43366a1f13cc2}\label{classfranka__hw_1_1_franka_combinable_h_w_a1698d87cf7f2312301f43366a1f13cc2}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!has\+Error@{has\+Error}}
\index{has\+Error@{has\+Error}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{has\+Error()}{hasError()}}
{\footnotesize\ttfamily bool franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::has\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [noexcept]}}

Getter for the error flag of the class.

\begin{DoxyReturn}{Returns}
True in case of an error false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a1e89406fc542ad7fb45ff0c1402c61c3}\label{classfranka__hw_1_1_franka_combinable_h_w_a1e89406fc542ad7fb45ff0c1402c61c3}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!init\+R\+O\+S\+Interfaces@{init\+R\+O\+S\+Interfaces}}
\index{init\+R\+O\+S\+Interfaces@{init\+R\+O\+S\+Interfaces}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{init\+R\+O\+S\+Interfaces()}{initROSInterfaces()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::init\+R\+O\+S\+Interfaces (\begin{DoxyParamCaption}\item[{ros\+::\+Node\+Handle \&}]{robot\+\_\+hw\+\_\+nh }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Initializes the class in terms of ros\+\_\+control interfaces. Note\+: You have to call init\+Parameters beforehand. Use the complete initialization routine \hyperlink{classfranka__hw_1_1_franka_h_w_a0323c9d759de8d6ab8fae4bf574e4a48}{init()} method to control robots.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em robot\+\_\+hw\+\_\+nh} & A node handle in the namespace of the robot hardware. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if successful, false otherwise. 
\end{DoxyReturn}


Reimplemented from \hyperlink{classfranka__hw_1_1_franka_h_w_ae2775ed9705ec3d1d3e58aea2ce21bde}{franka\+\_\+hw\+::\+Franka\+HW}.

\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a44e3093eb876aef71423c4f5142c7ed8}\label{classfranka__hw_1_1_franka_combinable_h_w_a44e3093eb876aef71423c4f5142c7ed8}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!read@{read}}
\index{read@{read}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::read (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time,  }\item[{const ros\+::\+Duration \&}]{period }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Reads data from the franka robot.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em time} & The current time. Not used in this class. \\
\hline
\mbox{\tt in}  & {\em period} & The time passed since the last call to \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_a44e3093eb876aef71423c4f5142c7ed8}{read}. Not used in this class. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classfranka__hw_1_1_franka_h_w_a8494bbab229cd16bc9bb7c994b01684d}{franka\+\_\+hw\+::\+Franka\+HW}.

\mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a1699fa199d607af6f70000ebe6796da8}\label{classfranka__hw_1_1_franka_combinable_h_w_a1699fa199d607af6f70000ebe6796da8}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!reset\+Error@{reset\+Error}}
\index{reset\+Error@{reset\+Error}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{reset\+Error()}{resetError()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::reset\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Recovers the libfranka robot, resets the error flag and publishes the error state. \mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_a48c2df229bf691b9e760dd6b557fb5ef}\label{classfranka__hw_1_1_franka_combinable_h_w_a48c2df229bf691b9e760dd6b557fb5ef}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!trigger\+Error@{trigger\+Error}}
\index{trigger\+Error@{trigger\+Error}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{trigger\+Error()}{triggerError()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::trigger\+Error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Triggers a stop of the control\+Loop. This interface is used to stop all combined robots together when at one robot encounters an error. \mbox{\Hypertarget{classfranka__hw_1_1_franka_combinable_h_w_ab96f9d6af06fbd7569d8a059d1bfbdd4}\label{classfranka__hw_1_1_franka_combinable_h_w_ab96f9d6af06fbd7569d8a059d1bfbdd4}} 
\index{franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}!write@{write}}
\index{write@{write}!franka\+\_\+hw\+::\+Franka\+Combinable\+HW@{franka\+\_\+hw\+::\+Franka\+Combinable\+HW}}
\subsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void franka\+\_\+hw\+::\+Franka\+Combinable\+H\+W\+::write (\begin{DoxyParamCaption}\item[{const ros\+::\+Time \&}]{time,  }\item[{const ros\+::\+Duration \&}]{period }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Writes data to the franka robot.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em time} & The current time. Not used in this class. \\
\hline
\mbox{\tt in}  & {\em period} & The time passed since the last call to \hyperlink{classfranka__hw_1_1_franka_combinable_h_w_ab96f9d6af06fbd7569d8a059d1bfbdd4}{write}. \\
\hline
\end{DoxyParams}


Reimplemented from \hyperlink{classfranka__hw_1_1_franka_h_w_afcdec49ec8bb07c48ed3d77ea2cd4e46}{franka\+\_\+hw\+::\+Franka\+HW}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/zheng/catkin\+\_\+ws/src/franka\+\_\+ros/franka\+\_\+hw/include/franka\+\_\+hw/franka\+\_\+combinable\+\_\+hw.\+h\item 
/home/zheng/catkin\+\_\+ws/src/franka\+\_\+ros/franka\+\_\+hw/src/franka\+\_\+combinable\+\_\+hw.\+cpp\end{DoxyCompactItemize}
